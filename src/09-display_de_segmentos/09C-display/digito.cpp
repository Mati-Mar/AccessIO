/*******************************************************************************************************************************//**
 *
 * @file		digito.cpp
 * @brief		Descripcion del modulo
 * @date		26 jul. 2022
 * @author		Ing. Marcelo Trujillo
 *
 **********************************************************************************************************************************/

/***********************************************************************************************************************************
 *** INCLUDES
 **********************************************************************************************************************************/
#include "digito.h"

/***********************************************************************************************************************************
 *** DEFINES PRIVADOS AL MODULO
 **********************************************************************************************************************************/
#define	    	CERO				0b00111111
#define	    	UNO 				0b00000110
#define     	DOS 				0b01011011
#define     	TRES				0b01001111
#define	    	CUATRO				0b01100110
#define	    	CINCO				0b01101101
#define	    	SEIS				0b01111100
#define	    	SIETE				0b00000111
#define	    	OCHO				0b01111111
#define	    	NUEVE				0b01100111
#define	    	MENOS				0b01000000

/***********************************************************************************************************************************
 *** MACROS PRIVADAS AL MODULO
 **********************************************************************************************************************************/

/***********************************************************************************************************************************
 *** TIPOS DE DATOS PRIVADOS AL MODULO
 **********************************************************************************************************************************/

/***********************************************************************************************************************************
 *** TABLAS PRIVADAS AL MODULO
 **********************************************************************************************************************************/
const uint8_t Tabla_Digitos_BCD_7seg[] = {CERO,UNO,DOS,TRES,CUATRO,CINCO,SEIS,SIETE,OCHO,NUEVE};


/***********************************************************************************************************************************
 *** VARIABLES GLOBALES PUBLICAS
 **********************************************************************************************************************************/

/***********************************************************************************************************************************
 *** VARIABLES GLOBALES PRIVADAS AL MODULO
 **********************************************************************************************************************************/

/***********************************************************************************************************************************
 *** IMPLEMENTACION DE LOS METODODS DE LA CLASE
 **********************************************************************************************************************************/
bool digito::Set( uint16_t valor )
{
	switch ( m_Sistema )
	{
		case BCD:
			if ( valor < 10 )
			{
				m_Valor = valor & 0x0f ;
				return true;
			}
			break;
		case SEGMENTOS:
			if ( valor <= u ) // u es el ultimo simbolo
			{
				m_Valor = Tabla_Digitos_BCD_7seg [ valor ] ;
				return true;
			}
			break;
		case ASCHII:
			if ( valor < 10 )
			{
				m_Valor = valor + '0' ;
				return true;
			}
			break;
	}
	return false;
}

uint8_t digito::Get( void )
{
	return m_Valor;
}

void digito::Clr( void )
{
	m_Valor = APAGAR;
}



digito::~digito() {
	// TODO Auto-generated destructor stub
}

