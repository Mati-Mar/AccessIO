/*******************************************************************************************************************************//**
 *
 * @file		display.h
 * @brief		Breve descripción del objetivo del Módulo
 * @date		26 jul. 2022
 * @author		Ing. Marcelo Trujillo
 *
 **********************************************************************************************************************************/

/***********************************************************************************************************************************
 *** MODULO
 **********************************************************************************************************************************/

#ifndef SRC_I0_DISPLAY7SEGMENTOS_DISPLAY_H_
#define SRC_I0_DISPLAY7SEGMENTOS_DISPLAY_H_

/***********************************************************************************************************************************
 *** INCLUDES GLOBALES
 **********************************************************************************************************************************/
#include "barrido.h"
#include "segmentos.h"
#include "digito.h"
#include "gruposdedigitos.h"
#include "gpio.h"

#include "systick.h"

#include <vector>

/***********************************************************************************************************************************
 *** DEFINES GLOBALES
 **********************************************************************************************************************************/

/***********************************************************************************************************************************
 *** MACROS GLOBALES
 **********************************************************************************************************************************/

/***********************************************************************************************************************************
 *** TIPO DE DATOS GLOBALES
 **********************************************************************************************************************************/

/***********************************************************************************************************************************
 *** VARIABLES GLOBALES
 **********************************************************************************************************************************/


/***********************************************************************************************************************************
 *** IMPLANTACION DE UNA CLASE
 **********************************************************************************************************************************/


// Esta fncion tiene que tener
// un barrido
// un segmentos
// 6 digitos
// configuracion
// heredar swhandler

class display7Segmentos : public Callback
{
	vector <gruposdedigitos * > m_grupos;
	segmentos *m_seg ;
	barrido * m_dig ;
	uint8_t m_maxdigitos;
	uint8_t m_inx;
	uint32_t m_ticks;

	vector <digito * >m_bufferdisplay ;
	const uint8_t *m_PosicionRelativa;
	const digito::codigo_t  m_sistema;

	public:
		display7Segmentos( vector <gruposdedigitos * > g ,segmentos * s , barrido * b , const uint8_t *PosicionRelativa , const digito::codigo_t  sistema);
		void callback ( );
		void Set( uint32_t valor , uint8_t dsp );

		virtual ~display7Segmentos();
};

#endif /* SRC_I0_DISPLAY7SEGMENTOS_DISPLAY_H_ */
